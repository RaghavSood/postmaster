(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{414:function(e,t,a){e.exports=a(597)},439:function(e,t,a){var s={"./1c":141,"./1c.js":141,"./abnf":142,"./abnf.js":142,"./accesslog":143,"./accesslog.js":143,"./actionscript":144,"./actionscript.js":144,"./ada":145,"./ada.js":145,"./angelscript":146,"./angelscript.js":146,"./apache":147,"./apache.js":147,"./applescript":148,"./applescript.js":148,"./arcade":149,"./arcade.js":149,"./arduino":150,"./arduino.js":150,"./armasm":151,"./armasm.js":151,"./asciidoc":152,"./asciidoc.js":152,"./aspectj":153,"./aspectj.js":153,"./autohotkey":154,"./autohotkey.js":154,"./autoit":155,"./autoit.js":155,"./avrasm":156,"./avrasm.js":156,"./awk":157,"./awk.js":157,"./axapta":158,"./axapta.js":158,"./bash":159,"./bash.js":159,"./basic":160,"./basic.js":160,"./bnf":161,"./bnf.js":161,"./brainfuck":162,"./brainfuck.js":162,"./c":163,"./c-like":164,"./c-like.js":164,"./c.js":163,"./cal":165,"./cal.js":165,"./capnproto":166,"./capnproto.js":166,"./ceylon":167,"./ceylon.js":167,"./clean":168,"./clean.js":168,"./clojure":169,"./clojure-repl":170,"./clojure-repl.js":170,"./clojure.js":169,"./cmake":171,"./cmake.js":171,"./coffeescript":172,"./coffeescript.js":172,"./coq":173,"./coq.js":173,"./cos":174,"./cos.js":174,"./cpp":175,"./cpp.js":175,"./crmsh":176,"./crmsh.js":176,"./crystal":177,"./crystal.js":177,"./csharp":178,"./csharp.js":178,"./csp":179,"./csp.js":179,"./css":180,"./css.js":180,"./d":181,"./d.js":181,"./dart":182,"./dart.js":182,"./delphi":183,"./delphi.js":183,"./diff":184,"./diff.js":184,"./django":185,"./django.js":185,"./dns":186,"./dns.js":186,"./dockerfile":187,"./dockerfile.js":187,"./dos":188,"./dos.js":188,"./dsconfig":189,"./dsconfig.js":189,"./dts":190,"./dts.js":190,"./dust":191,"./dust.js":191,"./ebnf":192,"./ebnf.js":192,"./elixir":193,"./elixir.js":193,"./elm":194,"./elm.js":194,"./erb":195,"./erb.js":195,"./erlang":196,"./erlang-repl":197,"./erlang-repl.js":197,"./erlang.js":196,"./excel":198,"./excel.js":198,"./fix":199,"./fix.js":199,"./flix":200,"./flix.js":200,"./fortran":201,"./fortran.js":201,"./fsharp":202,"./fsharp.js":202,"./gams":203,"./gams.js":203,"./gauss":204,"./gauss.js":204,"./gcode":205,"./gcode.js":205,"./gherkin":206,"./gherkin.js":206,"./glsl":207,"./glsl.js":207,"./gml":208,"./gml.js":208,"./go":209,"./go.js":209,"./golo":210,"./golo.js":210,"./gradle":211,"./gradle.js":211,"./groovy":212,"./groovy.js":212,"./haml":213,"./haml.js":213,"./handlebars":214,"./handlebars.js":214,"./haskell":215,"./haskell.js":215,"./haxe":216,"./haxe.js":216,"./hsp":217,"./hsp.js":217,"./htmlbars":218,"./htmlbars.js":218,"./http":219,"./http.js":219,"./hy":220,"./hy.js":220,"./inform7":221,"./inform7.js":221,"./ini":222,"./ini.js":222,"./irpf90":223,"./irpf90.js":223,"./isbl":224,"./isbl.js":224,"./java":225,"./java.js":225,"./javascript":226,"./javascript.js":226,"./jboss-cli":227,"./jboss-cli.js":227,"./json":228,"./json.js":228,"./julia":229,"./julia-repl":230,"./julia-repl.js":230,"./julia.js":229,"./kotlin":231,"./kotlin.js":231,"./lasso":232,"./lasso.js":232,"./latex":233,"./latex.js":233,"./ldif":234,"./ldif.js":234,"./leaf":235,"./leaf.js":235,"./less":236,"./less.js":236,"./lisp":237,"./lisp.js":237,"./livecodeserver":238,"./livecodeserver.js":238,"./livescript":239,"./livescript.js":239,"./llvm":240,"./llvm.js":240,"./lsl":241,"./lsl.js":241,"./lua":242,"./lua.js":242,"./makefile":243,"./makefile.js":243,"./markdown":244,"./markdown.js":244,"./mathematica":245,"./mathematica.js":245,"./matlab":246,"./matlab.js":246,"./maxima":247,"./maxima.js":247,"./mel":248,"./mel.js":248,"./mercury":249,"./mercury.js":249,"./mipsasm":250,"./mipsasm.js":250,"./mizar":251,"./mizar.js":251,"./mojolicious":252,"./mojolicious.js":252,"./monkey":253,"./monkey.js":253,"./moonscript":254,"./moonscript.js":254,"./n1ql":255,"./n1ql.js":255,"./nginx":256,"./nginx.js":256,"./nim":257,"./nim.js":257,"./nix":258,"./nix.js":258,"./nsis":259,"./nsis.js":259,"./objectivec":260,"./objectivec.js":260,"./ocaml":261,"./ocaml.js":261,"./openscad":262,"./openscad.js":262,"./oxygene":263,"./oxygene.js":263,"./parser3":264,"./parser3.js":264,"./perl":265,"./perl.js":265,"./pf":266,"./pf.js":266,"./pgsql":267,"./pgsql.js":267,"./php":268,"./php-template":269,"./php-template.js":269,"./php.js":268,"./plaintext":270,"./plaintext.js":270,"./pony":271,"./pony.js":271,"./powershell":272,"./powershell.js":272,"./processing":273,"./processing.js":273,"./profile":274,"./profile.js":274,"./prolog":275,"./prolog.js":275,"./properties":276,"./properties.js":276,"./protobuf":277,"./protobuf.js":277,"./puppet":278,"./puppet.js":278,"./purebasic":279,"./purebasic.js":279,"./python":280,"./python-repl":281,"./python-repl.js":281,"./python.js":280,"./q":282,"./q.js":282,"./qml":283,"./qml.js":283,"./r":284,"./r.js":284,"./reasonml":285,"./reasonml.js":285,"./rib":286,"./rib.js":286,"./roboconf":287,"./roboconf.js":287,"./routeros":288,"./routeros.js":288,"./rsl":289,"./rsl.js":289,"./ruby":290,"./ruby.js":290,"./ruleslanguage":291,"./ruleslanguage.js":291,"./rust":292,"./rust.js":292,"./sas":293,"./sas.js":293,"./scala":294,"./scala.js":294,"./scheme":295,"./scheme.js":295,"./scilab":296,"./scilab.js":296,"./scss":297,"./scss.js":297,"./shell":298,"./shell.js":298,"./smali":299,"./smali.js":299,"./smalltalk":300,"./smalltalk.js":300,"./sml":301,"./sml.js":301,"./sqf":302,"./sqf.js":302,"./sql":303,"./sql.js":303,"./stan":304,"./stan.js":304,"./stata":305,"./stata.js":305,"./step21":306,"./step21.js":306,"./stylus":307,"./stylus.js":307,"./subunit":308,"./subunit.js":308,"./swift":309,"./swift.js":309,"./taggerscript":310,"./taggerscript.js":310,"./tap":311,"./tap.js":311,"./tcl":312,"./tcl.js":312,"./thrift":313,"./thrift.js":313,"./tp":314,"./tp.js":314,"./twig":315,"./twig.js":315,"./typescript":316,"./typescript.js":316,"./vala":317,"./vala.js":317,"./vbnet":318,"./vbnet.js":318,"./vbscript":319,"./vbscript-html":320,"./vbscript-html.js":320,"./vbscript.js":319,"./verilog":321,"./verilog.js":321,"./vhdl":322,"./vhdl.js":322,"./vim":323,"./vim.js":323,"./x86asm":324,"./x86asm.js":324,"./xl":325,"./xl.js":325,"./xml":326,"./xml.js":326,"./xquery":327,"./xquery.js":327,"./yaml":328,"./yaml.js":328,"./zephir":329,"./zephir.js":329};function l(e){var t=n(e);return a(t)}function n(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}l.keys=function(){return Object.keys(s)},l.resolve=n,e.exports=l,l.id=439},597:function(e,t,a){"use strict";a.r(t);var s=a(0),l=a.n(s),n=a(48),r=a.n(n),i=(a(419),a(36)),c=a(37),o=a(39),u=a(38),j=a(606),m=a(609),p=a(608),d=a(604),h=a(598),f=a(99),v=a.n(f),g=(a(438),{}),y=function(e){Object(o.a)(s,e);var t=Object(u.a)(s);function s(e){var a;return Object(i.a)(this,s),(a=t.call(this,e)).highlight=function(){a.codeNode&&a.codeNode.current&&v.a.highlightBlock(a.codeNode.current)},a.state={loaded:!1},a.codeNode=l.a.createRef(),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.props.language;if(t&&!g[t])try{var s=a(439)("./".concat(t));console.log(v.a),v.a.registerLanguage(t,s),g[t]=!0,this.setState((function(){return{loaded:!0}}),(function(){e.highlight()}))}catch(l){throw console.error(l),Error("Cannot register and higlight language ".concat(t))}else this.setState({loaded:!0})}},{key:"componentDidUpdate",value:function(){this.highlight()}},{key:"render",value:function(){var e=this.props,t=e.language,a=e.children;return this.state.loaded?l.a.createElement("pre",null,l.a.createElement("code",{ref:this.codeNode,className:t},a)):""}}]),s}(s.Component);function E(e){var t=e.eventData;return console.log(t),l.a.createElement(d.a,{trigger:l.a.createElement(h.a,{primary:!0},"Event Data")},l.a.createElement(d.a.Header,null,"Event Details"),l.a.createElement(d.a.Content,{scrolling:!0},l.a.createElement(d.a.Description,null,l.a.createElement(p.a,null,"Message ID"),l.a.createElement("p",null,t.messageId),l.a.createElement(p.a,null,"Event"),l.a.createElement("p",null,t.eventType),l.a.createElement(p.a,null,"Subject"),l.a.createElement("p",null,t.mail.commonHeaders.subject),l.a.createElement(p.a,null,"Recipients"),l.a.createElement("p",null,t.recipients),l.a.createElement(p.a,null,"Received At (UTC)"),l.a.createElement("p",null,t.received_at),l.a.createElement(p.a,null,"SNS ID"),l.a.createElement("p",null,t.sns_id),l.a.createElement(p.a,null,"Mail"),l.a.createElement(y,{language:"json"},JSON.stringify(t.mail,void 0,4)),l.a.createElement(p.a,null,"Event Data"),l.a.createElement(y,{language:"json"},JSON.stringify(t.event_data,void 0,4)))))}y.defaultProps={language:"javascript"};var b=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,l=new Array(s),n=0;n<s;n++)l[n]=arguments[n];return(e=t.call.apply(t,[this].concat(l))).state={results:[],queryParams:{event_filter:"",email_filter:"",message_id:e.props.message,from:0,direction:"next"}},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.updateResults(this.props.message)}},{key:"componentWillReceiveProps",value:function(e){this.updateResults(e.message)}},{key:"render",value:function(){return l.a.createElement(d.a,{trigger:l.a.createElement(h.a,{primary:!0},"Email History")},l.a.createElement(d.a.Header,null,"Message History"),l.a.createElement(d.a.Content,{scrolling:!0},l.a.createElement(d.a.Description,null,l.a.createElement(k,{results:this.state.results,historyBtn:!1}))))}},{key:"updateResults",value:function(e){var t=this;fetch("/api/message?message_id=".concat(e,"&direction=").concat(this.state.queryParams.direction)).then((function(e){return e.json()})).then((function(e){return t.setState(e)}))}}]),a}(l.a.Component);function k(e){var t=e.results,a=e.historyBtn;console.log(t);var s=t.map((function(e,t){return l.a.createElement(j.a.Row,{key:t},l.a.createElement(j.a.Cell,null,e.id),l.a.createElement(j.a.Cell,null,"timestamp"in e.event_data?e.event_data.timestamp:e.mail.timestamp),l.a.createElement(j.a.Cell,null,e.eventType),l.a.createElement(j.a.Cell,null,e.mail.commonHeaders.subject),l.a.createElement(j.a.Cell,null,e.recipients),l.a.createElement(j.a.Cell,null,l.a.createElement(E,{eventData:e})),a?l.a.createElement(j.a.Cell,null,l.a.createElement(b,{message:e.messageId})):"")}));return l.a.createElement("div",{className:"ui container"},l.a.createElement(m.a,null,l.a.createElement(p.a,null,"Activity "),l.a.createElement(j.a,{striped:!0},l.a.createElement(j.a.Header,null,l.a.createElement(j.a.Row,null,l.a.createElement(j.a.HeaderCell,null,"ID"),l.a.createElement(j.a.HeaderCell,null,"Time (UTC)"),l.a.createElement(j.a.HeaderCell,null,"Event"),l.a.createElement(j.a.HeaderCell,null,"Subject"),l.a.createElement(j.a.HeaderCell,null,"Recipients"),l.a.createElement(j.a.HeaderCell,null,"Details"),a?l.a.createElement(j.a.HeaderCell,null,"History"):"")),l.a.createElement(j.a.Body,null,s))))}var x=a(607),C=[{key:1,text:"Bounce",value:"Bounce"},{key:2,text:"Complaint",value:"Complaint"},{key:3,text:"Delivery",value:"Delivery"},{key:4,text:"Send",value:"Send"},{key:5,text:"Reject",value:"Reject"},{key:6,text:"Open",value:"Open"},{key:7,text:"Click",value:"Click"},{key:8,text:"Failure",value:"Failure"}],q=function(e){var t=e.filterCallback;return l.a.createElement(x.a,{clearable:!0,options:C,selection:!0,onChange:t})},w=function(e){var t=e.prevCallback,a=e.nextCallback;return l.a.createElement("div",null,l.a.createElement(h.a,{primary:!0,onClick:t},"Prev"),l.a.createElement(h.a,{primary:!0,onClick:a},"Next"))},O=a(603),_=function(e){var t=e.filterCallback;return l.a.createElement(O.a,{icon:"search",placeholder:"Email",onChange:t})},D=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,l=new Array(s),n=0;n<s;n++)l[n]=arguments[n];return(e=t.call.apply(t,[this].concat(l))).state={results:[],queryParams:{event_filter:"",email_filter:"",message_id:"",from:0,direction:"next"}},e.prevButtonClick=function(t){var a=e.state.queryParams;e.state.results.length>0?(a.from=e.state.results[0].id,a.direction="prev"):"next"===a.direction&&(a.direction="last"),e.setState({queryParams:a},(function(){return e.updateResults()}))},e.nextButtonClick=function(t){var a=e.state.queryParams;e.state.results.length>0?(a.from=e.state.results[e.state.results.length-1].id,a.direction="next"):"prev"===a.direction&&(a.direction="first"),e.setState({queryParams:a},(function(){return e.updateResults()}))},e.handleSearchBar=function(t,a){var s=e.state.queryParams;s.email_filter=a.value,e.setState({queryParams:s},(function(){return e.updateResults()}))},e.handleEventTypeFilter=function(t,a){var s=e.state.queryParams;s.event_filter=a.value,e.setState({queryParams:s},(function(){return e.updateResults()}))},e}return Object(c.a)(a,[{key:"componentDidMount",value:function(){this.updateResults()}},{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("div",{className:"ui container"},l.a.createElement(q,{filterCallback:this.handleEventTypeFilter}),l.a.createElement(_,{filterCallback:this.handleSearchBar})),l.a.createElement("br",null),l.a.createElement(k,{results:this.state.results,historyBtn:!0}),l.a.createElement("div",{className:"ui container"},l.a.createElement(w,{prevCallback:this.prevButtonClick,nextCallback:this.nextButtonClick})))}},{key:"updateResults",value:function(){var e=this;fetch("/api/events?event_filter=".concat(this.state.queryParams.event_filter,"&email_filter=").concat(this.state.queryParams.email_filter,"&from=").concat(this.state.queryParams.from,"&direction=").concat(this.state.queryParams.direction)).then((function(e){return e.json()})).then((function(t){return e.setState(t)}))}}]),a}(l.a.Component),S=function(e){Object(o.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"render",value:function(){return l.a.createElement("div",{className:"App"},l.a.createElement(D,null))}}]),a}(s.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[414,1,2]]]);
//# sourceMappingURL=main.dbc26f5e.chunk.js.map